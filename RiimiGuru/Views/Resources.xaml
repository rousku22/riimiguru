<!-- Resources.xaml -->
<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    <!-- Color Brushes -->
    <SolidColorBrush x:Key="BackgroundBrush" Color="#1E1E1E"/>
    <SolidColorBrush x:Key="TextBrush" Color="#CCCCCC"/>
    <SolidColorBrush x:Key="BorderBrush" Color="#333333"/>
    <SolidColorBrush x:Key="TabBorderBrush" Color="#666666"/>
    <SolidColorBrush x:Key="ScrollbarBackgroundBrush" Color="#2D2D2D"/>
    <SolidColorBrush x:Key="ScrollbarThumbBrush" Color="#666666"/>

    <!-- Dark Background Color -->
    <SolidColorBrush x:Key="TreeViewBackground" Color="#2E2E2E"/>
    <SolidColorBrush x:Key="TreeViewItemBackground" Color="#3A3A3A"/>
    <SolidColorBrush x:Key="TreeViewItemForeground" Color="#FFFFFF"/>
    <SolidColorBrush x:Key="TreeViewItemSelectedBackground" Color="#4A4A4A"/>
    <SolidColorBrush x:Key="TreeViewItemSelectedForeground" Color="#FFD700"/>

    <!-- Style for TreeView -->
    <Style TargetType="TreeView">
        <Setter Property="Background" Value="{StaticResource TreeViewBackground}"/>
        <Setter Property="Foreground" Value="{StaticResource TreeViewItemForeground}"/>
        <Setter Property="BorderBrush" Value="#555555"/>
        <Setter Property="BorderThickness" Value="1"/>
    </Style>

    <!-- Style for TreeViewItem -->
    <Style TargetType="TreeViewItem">
        <Setter Property="Background" Value="{StaticResource TreeViewItemBackground}"/>
        <Setter Property="Foreground" Value="{StaticResource TreeViewItemForeground}"/>
        <Setter Property="BorderBrush" Value="#444444"/>
        <Setter Property="BorderThickness" Value="1"/>
        <Setter Property="Padding" Value="2"/>
        <Setter Property="Margin" Value="2"/>
        <Setter Property="FontSize" Value="14"/>
        <Setter Property="FontFamily" Value="Segoe UI"/>
        <Setter Property="HorizontalContentAlignment" Value="Left"/>
        <Setter Property="VerticalContentAlignment" Value="Center"/>

        <Style.Triggers>
            <!-- Change Background and Foreground when Selected -->
            <Trigger Property="IsSelected" Value="True">
                <Setter Property="Background" Value="{StaticResource TreeViewItemSelectedBackground}"/>
                <Setter Property="Foreground" Value="{StaticResource TreeViewItemSelectedForeground}"/>
            </Trigger>
        </Style.Triggers>
    </Style>

    <!-- Style for Expanders -->
    <Style TargetType="Expander">
        <Setter Property="Background" Value="{StaticResource TreeViewBackground}"/>
        <Setter Property="Foreground" Value="#555555"/>
        <Setter Property="BorderBrush" Value="{StaticResource TextBrush}"/>
        <Setter Property="BorderThickness" Value="0"/>
    </Style>

    <!-- Style for ScrollBar buttons -->
    <Style x:Key="ScrollBarButtonStyle" TargetType="RepeatButton">
        <Setter Property="Background" Value="{StaticResource ScrollbarBackgroundBrush}"/>
        <Setter Property="BorderBrush" Value="{StaticResource BorderBrush}"/>
        <Setter Property="BorderThickness" Value="1"/>
        <Setter Property="Width" Value="10"/>
        <Setter Property="Height" Value="10"/>
        <Setter Property="Foreground" Value="{StaticResource TextBrush}"/>
    </Style>

    <!-- Style for ScrollBar thumb -->
    <Style x:Key="ScrollBarThumbStyle" TargetType="Thumb">
        <Setter Property="Background" Value="{StaticResource ScrollbarThumbBrush}"/>
        <Setter Property="BorderBrush" Value="{StaticResource BorderBrush}"/>
        <Setter Property="BorderThickness" Value="1"/>
        <Setter Property="Width" Value="10"/>
    </Style>

    <!-- Style for ScrollBar -->
    <Style TargetType="ScrollBar">
        <Setter Property="Background" Value="{StaticResource ScrollbarBackgroundBrush}"/>
        <Setter Property="Foreground" Value="{StaticResource TextBrush}"/>
        <Setter Property="Width" Value="10"/>
        <Setter Property="Margin" Value="0"/>
        <Setter Property="Padding" Value="0"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ScrollBar">
                    <Grid>
                        <!-- Define rows for the repeat buttons and track -->
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <!-- RepeatButton (Up) -->
                            <RowDefinition Height="*"/>
                            <!-- Track -->
                            <RowDefinition Height="Auto"/>
                            <!-- RepeatButton (Down) -->
                        </Grid.RowDefinitions>

                        <!-- ScrollBar RepeatButtons -->
                        <RepeatButton x:Name="PART_LineUpButton"
                                      Style="{StaticResource ScrollBarButtonStyle}"
                                      Command="ScrollBar.LineUpCommand"
                                      Grid.Row="0"/>

                        <!-- ScrollBar Track -->
                        <Track x:Name="PART_Track"
                               Grid.Row="1"
                               IsDirectionReversed="True">
                            <!-- Decrease and Increase RepeatButtons for Track -->
                            <Track.DecreaseRepeatButton>
                                <RepeatButton x:Name="PART_TrackDecreaseButton"
                                              Style="{StaticResource ScrollBarButtonStyle}"
                                              Command="ScrollBar.LineUpCommand"
                                              Visibility="Collapsed"/>
                                <!-- Collapsed by default -->
                            </Track.DecreaseRepeatButton>
                            <Track.IncreaseRepeatButton>
                                <RepeatButton x:Name="PART_TrackIncreaseButton"
                                              Style="{StaticResource ScrollBarButtonStyle}"
                                              Command="ScrollBar.LineDownCommand"
                                              Visibility="Collapsed"/>
                                <!-- Collapsed by default -->
                            </Track.IncreaseRepeatButton>
                            <Track.Thumb>
                                <Thumb x:Name="PART_TrackThumb"
                                       Style="{StaticResource ScrollBarThumbStyle}"/>
                            </Track.Thumb>
                        </Track>

                        <!-- ScrollBar RepeatButton (Down) -->
                        <RepeatButton x:Name="PART_LineDownButton"
                                      Style="{StaticResource ScrollBarButtonStyle}"
                                      Command="ScrollBar.LineDownCommand"
                                      Grid.Row="2"/>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- Style for TabControl -->
    <Style TargetType="TabControl">
        <Setter Property="Background" Value="{StaticResource BackgroundBrush}"/>
        <Setter Property="Foreground" Value="{StaticResource TextBrush}"/>
    </Style>

    <!-- Style for TabItem -->
    <Style TargetType="TabItem">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="TabItem">
                    <Grid Name="Panel">
                        <!-- Tab background and border -->
                        <Border Name="Border" 
                                BorderThickness="1,1,1,0" 
                                BorderBrush="{StaticResource TabBorderBrush}" 
                                CornerRadius="4,4,0,0" 
                                Margin="2,0" 
                                Background="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=Background}">
                            <ContentPresenter x:Name="ContentSite" 
                                              VerticalAlignment="Center" 
                                              HorizontalAlignment="Center" 
                                              ContentSource="Header" 
                                              Margin="10,2"/>
                        </Border>
                    </Grid>
                    <ControlTemplate.Triggers>
                        <!-- When mouse is over the tab -->
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="Border" Property="Background" Value="#2D2D2D"/>
                            <Setter TargetName="Border" Property="BorderBrush" Value="#666666"/>
                        </Trigger>
                        <!-- Default state (not hovered) -->
                        <Trigger Property="IsMouseOver" Value="False">
                            <Setter TargetName="Border" Property="Background" Value="{StaticResource BackgroundBrush}"/>
                            <Setter TargetName="Border" Property="BorderBrush" Value="{StaticResource TabBorderBrush}"/>
                            <Setter Property="Foreground" Value="{StaticResource TextBrush}"/>
                        </Trigger>
                        <!-- When the tab is selected -->
                        <Trigger Property="IsSelected" Value="True">
                            <Setter TargetName="Border" Property="Background" Value="#333333"/>
                            <Setter TargetName="Border" Property="BorderBrush" Value="#FFFFFF"/>
                            <Setter Property="Foreground" Value="{StaticResource TextBrush}"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- Style for the Grid in the TabItem to maintain dark mode -->
    <Style TargetType="Grid">
        <Setter Property="Background" Value="{StaticResource BackgroundBrush}"/>
    </Style>

    <!-- Style for Label inside the Grid -->
    <Style TargetType="Label">
        <Setter Property="Foreground" Value="{StaticResource TextBrush}"/>
        <Setter Property="Background" Value="{StaticResource BackgroundBrush}"/>
    </Style>

    <!-- Style for CheckBox inside the Grid -->
    <Style TargetType="CheckBox">
        <Setter Property="Foreground" Value="{StaticResource TextBrush}"/>
        <Setter Property="Background" Value="{StaticResource BackgroundBrush}"/>
    </Style>

    <!-- Style for RichTextBox -->
    <Style TargetType="RichTextBox">
        <Setter Property="Background" Value="{StaticResource BackgroundBrush}"/>
        <Setter Property="Foreground" Value="{StaticResource TextBrush}"/>
        <Setter Property="BorderBrush" Value="{StaticResource BorderBrush}"/>
        <Setter Property="BorderThickness" Value="1"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="RichTextBox">
                    <Border Name="Border"
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}">
                        <ScrollViewer x:Name="PART_ContentHost"
                                      Background="{TemplateBinding Background}"
                                      BorderBrush="{TemplateBinding BorderBrush}"
                                      BorderThickness="{TemplateBinding BorderThickness}"/>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
</ResourceDictionary>
